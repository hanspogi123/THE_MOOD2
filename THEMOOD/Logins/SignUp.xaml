<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="THEMOOD.Logins.SignUp"
             xmlns:vm="clr-namespace:THEMOOD.ViewModels" 
             BackgroundImageSource="singup_bg.png"
             Title="SignUp"
             Shell.NavBarIsVisible="False">

    <ContentPage.Resources>
        <Style x:Key="SignUpCardStyle" TargetType="Frame">
            <Setter Property="BackgroundColor" Value="White"/>
            <Setter Property="CornerRadius" Value="24"/>
            <Setter Property="HasShadow" Value="True"/>
            <Setter Property="Padding" Value="36,32"/>
            <Setter Property="WidthRequest" Value="400"/>
            <Setter Property="MinimumWidthRequest" Value="320"/>
            <Setter Property="HorizontalOptions" Value="Center"/>
            <Setter Property="VerticalOptions" Value="Center"/>
        </Style>
    </ContentPage.Resources>

    <Grid>
        <Frame x:Name="SignUpCard"
               HasShadow="False"
               BackgroundColor="Transparent">
            <Frame.Padding>
                <OnPlatform x:TypeArguments="Thickness">
                    <On Platform="Android" Value="16,32,16,16" />
                    <On Platform="iOS" Value="24,60,24,24" />
                    <On Platform="WinUI" Value="36,32,36,32" />
                    <On Platform="MacCatalyst" Value="24,60,24,24" />
                    <On Platform="Tizen" Value="16,32,16,16" />
                    <On Platform="Default" Value="30,60,30,30" />
                </OnPlatform>
            </Frame.Padding>
            <ScrollView>
                <VerticalStackLayout>
                    <VerticalStackLayout.Spacing>
                        <OnPlatform x:TypeArguments="x:Double">
                            <On Platform="Android" Value="10" />
                            <On Platform="iOS" Value="16" />
                            <On Platform="WinUI" Value="20" />
                            <On Platform="MacCatalyst" Value="16" />
                            <On Platform="Tizen" Value="10" />
                            <On Platform="Default" Value="20" />
                        </OnPlatform>
                    </VerticalStackLayout.Spacing>

                    <!-- Create Text -->
                    <VerticalStackLayout x:Name="CreateTextContainer">
                        <Label x:Name="CreateText"
                               Text="Create Account"
                               FontFamily="GentySans"
                               FontSize="38"
                               TextColor="Black" />
                    </VerticalStackLayout>

                    <!-- Spacer to move other controls lower -->
                    <BoxView x:Name="CreateSpacer" BackgroundColor="Transparent" Color="Transparent" Opacity="0">
                        <BoxView.HeightRequest>
                            <OnPlatform x:TypeArguments="x:Double">
                                <On Platform="Android" Value="20" />
                                <On Platform="iOS" Value="40" />
                                <On Platform="WinUI" Value="20" />
                                <On Platform="MacCatalyst" Value="40" />
                                <On Platform="Tizen" Value="20" />
                                <On Platform="Default" Value="60" />
                            </OnPlatform>
                        </BoxView.HeightRequest>
                    </BoxView>

                    <!-- Name Field -->
                    <Grid ColumnDefinitions="40,*,30" VerticalOptions="Center" HeightRequest="50">
                        <Image Source="name1.png"
                               Grid.Column="0"
                               HeightRequest="24"
                               WidthRequest="24"
                               VerticalOptions="Center"
                               HorizontalOptions="Center"/>
                        <Entry Grid.Column="1"
                               x:Name="NameEntry"
                               Placeholder="Name"
                               Style="{StaticResource BaseEntryStyle}" />
                    </Grid>

                    <!-- Email Field -->
                    <Grid ColumnDefinitions="40,*,30" VerticalOptions="Center" HeightRequest="50">
                        <Image Source="envelope1.png"
                           Grid.Column="0"
                           HeightRequest="24"
                           WidthRequest="24"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"/>
                        <Entry Grid.Column="1"
                           x:Name="EmailEntry"
                           Placeholder="Email"
                           Style="{StaticResource BaseEntryStyle}" />
                    </Grid>

                    <!-- Password Field -->
                    <Grid ColumnDefinitions="40,*,30" VerticalOptions="Center" HeightRequest="50">
                        <Image Source="password1.png"
                           Grid.Column="0"
                           HeightRequest="24"
                           WidthRequest="24"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"/>
                        <Entry Grid.Column="1"
                           x:Name="PasswordEntry"
                           Placeholder="Password"
                           IsPassword="True"
                           Style="{StaticResource BaseEntryStyle}" />
                    </Grid>

                    <!-- Reduced spacing between password and terms -->
                    <BoxView HeightRequest="2" BackgroundColor="Transparent" Color="Transparent" Opacity="0" />

                    <!-- Terms and Conditions Checkbox -->
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <CheckBox x:Name="TermsCheckbox" 
                                 Color="#FF69B4"
                                 BackgroundColor="Transparent"
                                 VerticalOptions="Center"/>
                        <Label Text="I agree to the Terms and Conditions"
                               FontFamily="Arial"
                               FontSize="14"
                               VerticalOptions="Center"
                               TextColor="Black">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnTermsTapped"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </HorizontalStackLayout>

                    <!-- Sign Up Button -->
                    <Button Text="⭐  Sign Up"
                            Style="{StaticResource LightButtonStyle}"
                            Clicked="OnSignUpClicked"
                            Padding="50,0"/>

                    <!-- OR Separator -->
                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="10">
                        <BoxView WidthRequest="120" HeightRequest="1" BackgroundColor="Black" VerticalOptions="Center"/>
                        <Label Text="or" FontFamily="Arial" FontSize="14" VerticalOptions="Center"/>
                        <BoxView WidthRequest="120" HeightRequest="1" BackgroundColor="Black" VerticalOptions="Center"/>
                    </HorizontalStackLayout>

                    <!-- Log in Button -->
                    <Button Text="⭐  Log in"
                            Style="{StaticResource DarkButtonStyle}"
                            Clicked="LoginBalik_Clicked"/>
                </VerticalStackLayout>
            </ScrollView>
        </Frame>
    </Grid>
</ContentPage>